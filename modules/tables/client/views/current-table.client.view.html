<section data-ng-controller="TablesController" data-ng-init="findCurrentTable()">
{{table}}

    <div class="page-header">
        <h1>Round {{table.number}}</h1>
        <h2>Starting {{table.start | date:'mediumDate'}} Ending {{table.end | date:'mediumDate'}}</h2>
    </div>
    <div class="list-group">
        <div data-ng-repeat="division in table.divisions" class="list-group-item">
            <h5>Division {{division.rank + 1}}</h5>

            <table class="table table-striped">
                <thead>
                    <th></th>
                    <th></th>
                    <th data-ng-repeat="user in division.users">{{indexToLetter[$index]}}</th>
                </thead>
                <tbody>
                     <tr data-ng-repeat="playerRow in division.users">
                         <td>{{playerRow.displayName}}</td>
                         <td>{{indexToLetter[$index]}}</td>
                         <th data-ng-repeat="playerCol in division.users">{{getScoreTableDisplay(playerRow, playerCol)}}</th>
                     </tr>
                </tbody>
            </table>

            <div class="container" ng-hide="division.users.indexOf(authentication.user) !== -1">
                <form class="form-inline" ng-repeat="user in division.users"  data-ng-submit="submitScore()">
                    <input type="hidden" name="player1" ng-value="authentication.user._id">
                    <input type="hidden" name="player2" ng-value="user._id">
                    <div ng-hide="user._id === authentication.user._id">
                        <br />
                        <div class="form-group">
                            <label ng-attr-for="{{'playerScore' + $index}}" class="control-label">{{authentication.user.displayName}}</label>
                            <input data-ng-model="player1Score" type="text" class="form-control" ng-attr-id="{{'playerScore' + $index}}" placeholder="Your Score">
                        </div>
                        <div class="form-group">
                            <input data-ng-model="player2Score" type="text" class="form-control" ng-attr-id="{{'opponentScore' + $index}}" placeholder="Opponent Score">
                            <label ng-attr-for="{{'opponentScore' + $index}}" class=control-label">{{user.displayName}}</label>
                        </div>
                        <div class="form-group">
                            <input type="submit" class="btn btn-default">
                        </div>
                        <div data-ng-show="error" class="text-danger">
                            <strong data-ng-bind="error"></strong>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
